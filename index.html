<!doctype html>
<html>

<head>
<title>
C++の歴史
</title>

		<meta charset="utf-8" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
</head>

<body>
<div class="reveal">
<div class="slides">

<section>

<section>
<h1>C++の歴史</h1>

<p>
江添亮<br />
<a href="http://cpplover.blogspot.jp/">http://cpplover.blogspot.jp/</a><br />
boostcpp@gmail.com<br />
<a href="https://twitter.com/EzoeRyou">@EzoeRyou</a>
</p>

<p>
GFDL 1.3 with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
</p>
    </section>

    <section id="themes" >
					<h2>Themes</h2>
					<p>

						<a href="?theme=sky#/themes">Sky</a> -
						<a href="?theme=beige#/themes">Beige</a> -
						<a href="?theme=simple#/themes">Simple</a> -
						<a href="?theme=serif#/themes">Serif</a> -
						<a href="?theme=night#/themes">Night</a> -
						<a href="?#/themes">Default</a>
					</p>
    </section>

    <section id="transitions">
        <h2>Transition Styles</h2>
        <p>

            <a href="?transition=cube#/transitions">Cube</a> -
            <a href="?transition=page#/transitions">Page</a> -
            <a href="?transition=concave#/transitions">Concave</a> -
            <a href="?transition=zoom#/transitions">Zoom</a> -
            <a href="?transition=linear#/transitions">Linear</a> -
            <a href="?transition=fade#/transitions">Fade</a> -
            <a href="?transition=none#/transitions">None</a> -
            <a href="?#/transitions">Default</a>
        </p>
</section>

</section>

<section id="cpp-author">
<h2>C++の原作者</h2>

<p>
Bjarne Stroustrup
</p>

<p>
C++のオリジナルの設計者にして最初の実装者
</p>

</section>

<section id="pre-history">
<h2>1979年</h2>

<p>
Stroustrup、ケンブリッジで博士号を取得するべく研究中
</p>

<p>
分散システム上で動作するソフトウェアの研究
</p>

<p>
実証のため、大規模なシミュレーターを書かなければならない
</p>

<p>
Simulaで書いた
</p>

</section>

<section>
<h2>Simulaの利点</h2>

<p>
「Simulaで書くのは最高だった」
</p>

<p>
クラス機能によって、問題をそのままコードに落とし込める
</p>

<p>
クラス自体がコルーチンのように並列実行できる
</p>

<p>
強い型システムとコンパイル時警告
</p>
</section>

<section>
<h2>Simulaの欠点</h2>

<p>
分割コンパイルしてリンクが遅い
</p>

<p>
実行速度が遅い
</p>

<p>
メモリ確保がすべてGC
</p>

<p>
これらを無効にする方法がない
</p>
</section>

<section>
<h3>リンクが遅い</h3>

<p>
僅かな部分をコンパイルして、<br>
コンパイル済みのバイナリへのリンクが遅い
</p>

<p>
すべてのソースコードを単一のファイルで<br>
コンパイルするのに比べて、30倍遅い
</p>
</section>

<section>
<h3>ガベージ・コレクション</h3>

<p>
メモリ確保はすべてGC
</p>

<p>
明示的にリソース管理をしているのにすべてGC
</p>

<p>
実行時間の80%がGCで浪費
</p>
</section>

<section>
<h2>研究中断の危機</h2>

<p>
シミュレーターが遅すぎて使い物にならない
</p>

<p>
このままでは研究が実証できない
</p>

<p>
Stroustrupの博士号が危うい
</p>


</section>

<section>
<h2>書き直し</h2>

<p>
BCPLで全面的に書きなおした
</p>
</section>

<section id="bcpl">
<h2>BCPL</h2>

<p>
「BCPLに比べれば、Cがとても高級な言語に見えた」
</p>

<p>
型がない
</p>

<p>
コンパイル時チェックもない
</p>

<p>
何もない
</p>
</section>

<section>
<h2>速い実行</h2>

<p>
BCPLはとても速い
</p>

<p>
リンクが速い
</p>

<p>
実行速度も速い
</p>

<p>
シミュレーターは動いた
</p>

</section>


<section>
<h2>Stroustrupの誓い</h2>

<p>
二度とまともなツールなしに大規模な問題に取り組まないと誓う
</p>

<ul>

<li>
良きツールはSimulaの表現力を持つべきである
</li>

<li>
良きツールはBCPLのリンク速度を持つべきである
</li>

<li>
良きツールは他の言語のバイナリとリンクして使えるべきである
</li>

<li>
良きツールはBCPLの実行速度を持つべきである
</li>

</ul>
</section>

<section>
<h2>その後</h2>

<p>
Stroustrupは、なんとか博士号を取得。
</p>
<p>
ケンブリッジを去る
</p>

<p>
Bell Labで職を得る
</p>
</section>

<section>
<h2>Bell Labの特徴</h2>

<p>
十分なコンピューター資源が与えられる
</p>

<p>
優秀な同僚(K&amp;Rも在籍)との議論が推奨される
</p>

<p>
仕事内容、「なにか面白いことをやれ」
</p>

<p>
結果は一年後に報告
</p>
</section>

<section>
<h2>研究</h2>

<p>
ネットワークに繋がれたコンピューター群<br>
その上で動作するUNIXカーネルについて
</p>

<ul>
<li>
分散カーネルのネットワークトラフィックの解析
</li>

<li>
カーネルのモジュール化
</li>
</ul>

</section>

<section>
<h2>誓い</h2>

<p>
まともなツールなしでは<br>
二度と大規模な問題には挑まない
</p>

<p>
まともなツールを作る
</p>
</section>

<section>
<h2>Cpre</h2>

<p>
C言語に独自のプリプロセッサーを組み合わせたツール
</p>

<p>
C言語にSimulaのクラス機能をもたらす
</p>
</section>

<section>
<h2>C with Classes</h2>


<p>
名前を変えてツールから言語へ
</p>

<p>
手で書くCと変わりない実行効率
</p>

<p>
他の言語とリンクできるバイナリ互換
</p>

<p>
線形探索より複雑なアルゴリズムを使わず実装可能
</p>
</section>

<section>
<h2>1982年</h2>

<p>
C with Classesは複数のプロジェクトで使われるようになった
</p>

<p>
これより進化させるには、本物の言語として、新たに設計と実装が必要
</p>

<p>
得られた経験をもとに、新しい言語C++を作る
</p>
</section>

<section>
<h2>C++という名前</h2>

<p>
Rick Mascittiが提案
</p>

<p>
元ネタはK&amp;RのC言語
</p>

<p>
その元ネタはMartin RichardsのBCPL
</p>

<p>
さらに元ネタはKen TompsonのB言語
</p>
</section>

<section id="CFront">
<h2>CFront</h2>

<p>
StroustrupによるC++のリファレンス実装
</p>

<p>
移植性を重視
</p>

<p>
C++の完全なコンパイラー
</p>

<p>
無料
</p>
</section>

<section>
<h2>リファレンス実装</h2>

<p>
C++の設計と進化のための実装
</p>

<p>
ツールとしては貧弱
</p>

<p>
C++が十分に普及すれば独立した実装が出るはず
</p>

<p>
それまでの間、動く実装を提供
</p>
</section>

<section id="portability">
<h2>移植性</h2>

<p>
世の中にはコンピューターの種類が多すぎる
</p>

<p>
名前すら聞いたことのないようなOSがある
</p>

<p>
アセンブリや中間コードを出力したのでは対応しきれない
</p>

<p>
C言語コンパイラーはほとんどの環境にあり、移植性が高い
</p>

<p>
Cコードを出力
</p>
</section>

<section>
<h2>完全なコンパイラー</h2>

<p>
CPP済みのC++コードを受け取る
</p>

<p>
パース、内部表現に変換、解析、Cコードで出力
</p>

<p>
単なるプリプロセッサーではない
</p>
</section>

<section>
<h2>無料</h2>

<p>
C++普及のために必要
</p>

<p>
多くの自称良いツールは
</p>

<ol>
<li>高価で買えない</li>
<li>動作するコンピューターも高価で買えない</li>
<li>しかも販売開始は常に「来年」</li>
</ol>

</section>

<section>
<h2>商用の需要</h2>

<p>
多くの教授が、商用コンパイラーを要求した
</p>

<ul>
<li>
業界で使える
</li>

<li>
コンサルできる
</li>
</ul>

<p>
商用版も発売した
</p>


CFrontの改変版が各社から発売
</p>
</section>

<section>
<h2>標準規格とは？</h2>

<p>
理想
</p>

<p>
あるプログラムが合法か違法か決定できるもの
</p>

<p>
現実
</p>

<p>
C++では、すべてのプログラムに白黒をつけることができない
</p>
</section>

<section>
<h2>定められない挙動の例</h2>

<ul>
<li>
int型の具体的なビット数
</li>
<li>
浮動小数点数の実装方法
</li>
<li>
ゼロ除算
</li>
</ul>
</section>

<section>
<h2>実装依存</h2>

<p>
ある種の挙動は規定せずに実装にまかせる
</p>
</section>

<section>
<h2>標準化委員会の仕組み</h2>

<p>
ANSIとISOがある
</p>

<p>
下院(ANSI)と上院(ISO)のような関係
</p>
</section>

<section>
<h2>ANSI</h2>

<p>
ほとんどの規格制定はANSIで行う
</p>

<p>
議論、提案、文面変更など
</p>

<p>
メンバーはたいてい企業の代表
</p>

<p>
投票権はひとつの企業につき一票
</p>

<p>
特定の企業を代表しない個人も一票
</p>

<p>
年三回ほど、一週間の会議が開かれる。
</p>
</section>

<section>
<h2>ISO</h2>

<p>
ANSIの作業結果を投票により承認する
</p>

<p>
主要な各国に支部がある
</p>

<p>
投票権は、ひとつの国につき一票
</p>
</section>

<section>
<h2>規格制定の流れ</h2>

<ol>
<li>
ANSIがCDを出す
</li>
<li>
ISOの各国支部がNBコメントを出す
</li>

<li>
1.に戻る
</li>
</ol>

<p>
最終的に、FCDを出す
</p>

<p>
ISOの各国支部が投票する。
</p>

<p>
可決されれば規格制定
</p>

<p>
慣習的に、規格制定は全員一致
</p>

</section>

<section>
<h2>用語</h2>

<dl>
<dt>CD</dt>
<dd>
Committee Draft、委員会による規格案
</dd>

<dt>FCD</dt>
<dd>
Final Committee Draft、正式規格とほぼ変わらない文面案
</dd>

<dt>NBコメント</dt>
<dd>
National Body Comment、各国支部による意見
</dd>

</dl>
</section>

<section id="C++WG-JP">
<h2>C++ Working Group Japan</h2>

<p>
ISOの日本支部
</p>

<p>
日本を代表して
</p>
</section>



<section>
<h2>参考文献</h2>

<ul>

<ltt
<a href="http://www.stroustrup.com/hopl2.pdf">Stroustrup 1993: HOPL-2</a>
</li>

<li>
<a href="http://www.stroustrup.com/dne.html">Stroustrup 1994: The Design and Evolution of C++</a>
</li>

<li>
<a href="http://www.stroustrup.com/hopl-almost-final.pdf">Stroustrup 2007: HOPL-III</a>
</li>

</ul>
</section>

</div> <!-- class="slides" -->
</div> <!-- class="reveal" -->


<script src="lib/js/head.min.js"></script>
<script src="js/reveal.min.js"></script>

<script>

    // fire up the Reveal.js 
    Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        width : "90%",
        height : "90%",

        theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

        // Optional libraries
        dependencies: [
            { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
            { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
            { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
    });

</script>


</body>

</html>
